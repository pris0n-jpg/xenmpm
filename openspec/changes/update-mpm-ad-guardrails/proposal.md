# Change: 加固 MPM 可微接口与文档一致性

## Why
- 当前 autodiff 接口因 Taichi 对原子操作的限制无法工作，需要显式阻断与错误提示，避免用户误用。
- 技术限制文档引用路径缺失/不一致，用户无法获知已知限制。
- 能量类 loss 定义与预期不一致（仅动能），需明确范围或调整。
- 仍存在双核路径/潜在漂移，需要统一或约束确保行为一致。

## What Changes
- 为 autodiff 提供显式不可用保护：在配置/CLI/API 层拦截并返回清晰错误与可行路径，避免 Tape 崩溃。
- 文档一致性：确保限制/实施状态文档随代码分发，并在 README/警告中引用正确路径（含现有根目录文档的归位或引用说明）。
- Loss 定义澄清：明确能量 loss 默认语义（动能），并提供/记录总能量选项或自定义方式。
- Kernel 路径约束：当前已用 ti.static 统一，保留防御性约束与测试要求，防止未来漂移。

## Impact
- 规格：`specs/vhe-mpm-solver/spec.md`（Autodiff 保护、loss 定义、路径一致性）
- 代码/文档（实施阶段）：`autodiff_wrapper.py`, `cli.py`, README/限制文档（不在本阶段修改）
